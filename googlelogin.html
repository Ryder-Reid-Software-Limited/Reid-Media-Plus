<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Firebase Google Sign-in Demo</title>
  </head>
  <body>
    <h1>Sign in with Google</h1>

    <button id="btn">Sign in</button>
    <button id="out">Sign out</button>

    <pre id="status">Not signed in</pre>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
      import {
        getAuth,
        GoogleAuthProvider,
        signInWithPopup,
        signOut,
        onAuthStateChanged
      } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-auth.js";

      // TODO: paste your Firebase config here
      const firebaseConfig = {
  apiKey: "AIzaSyD5ZHEaio2BGXaLS_8Hr5dS0mr1_8Em4A4",
  authDomain: "rmplus-v4.firebaseapp.com",
  projectId: "rmplus-v4",
  storageBucket: "rmplus-v4.firebasestorage.app",
  messagingSenderId: "970646427618",
  appId: "1:970646427618:web:1b9f44902d45717c654bbb"
};

      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const provider = new GoogleAuthProvider();

      const statusEl = document.getElementById("status");

      document.getElementById("btn").onclick = async () => {
        try {
          await signInWithPopup(auth, provider);
        } catch (e) {
          statusEl.textContent = "Error: " + (e?.message ?? e);
        }
      };

      document.getElementById("out").onclick = async () => {
        await signOut(auth);
      };

      onAuthStateChanged(auth, (user) => {
        if (!user) {
          statusEl.textContent = "Not signed in";
          return;
        }
        statusEl.textContent = JSON.stringify(
          {
            uid: user.uid,
            name: user.displayName,
            email: user.email,
            photo: user.photoURL
          },
          null,
          2
        );
      });
    </script>
  </body>
</html>
